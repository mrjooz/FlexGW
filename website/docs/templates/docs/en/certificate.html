{% extends "layout.html" %}
{% block title %}Docs{% endblock %}

{% block trail %}
        <li><a href="/">Home</a></li>
        <li>Docs</li>
        <li class="current"><a href="{{ url_for('docs.certificate') }}">About VPN certification</a></li>
{% endblock trail %}

{% block content %}
    {% include "docs/en/sidenav.html" %}

    <!-- start of issue table -->
    <div class="large-10 columns">
      <div class="row">
        <div class="large-12 columns">
          <div class="panel">
            <h3>About VPN certification</h3>
            <hr />
            <p>The certificate file is automatically generated by the script when FlexGW ECS stared at the first time. In directory: /usr/local/flexgw/scripts/keys, the certificate files mentioned below are all the copies of the files in this directory.</p>
            <h4>IPSec Site-to-Site Tunnel: </h4>
            <p>IPSec Site-to-Site VPN uses PSK encrypted connection, it does not use certificate authentication.</p>
            <h4>Dial-up VPN:</h4>
            <p>Dial-up VPN certificate, located in the /etc/openvpn/server:</p>
            <ol>
              <li>ca.crt: a root certificate, both the server and the client need it.</li>
              <li>server.crt: is the server's certificate, is signed by the CA certificate.</li>
              <li>server.key: is the secret key corresponding to the certificate on server.</li>
              <li>dh2048.pem: DH algorithm parameter files.</li>
            </ol>
            <h4>WebSite HTTPS certificate:</h4>
            <p>Certificates for the website, located under /usr/local/flexgw/instance directory:</p>
            <ol>
              <li>ca.crt: the root certificate.</li>
              <li>server.crt: is the server's certificate is signed by the CA certificate.</li>
              <li>server.key: the secret key corresponding to the certificate server.</li>
            </ol>
            <h3>Use your own certificate</h3>
            <hr />
            <p>If you want to use your own certificates, you can use the openssl command to generate your own root certificate, server certificate, and DH algorithm parameter files.</p>
            <h4>Dial-up VPN:</h4>
            <ol>
              <li>copy the files generate by yourself to /etc/openvpn/server directory to replace the appropriate
                certificate file.</li>
              <li>Clients also use the new CA certificate to replace in the original root certificate. Via /usr/local/flexgw/scripts/packconfig script, repackage openvpn client configuration files, packaged configuration file located in: /usr/local/flexgw/ website/vpn down /dial/static directory. Please profiles, re-distributed to clients.</li>
              <li>By "VPN Service Management" page to restart the VPN dial-up service.</li>
            </ol>
            <h4>Website HTTPS certificate:</h4>
            <ol>
              <li>The resulting certificate file, copy to replace the /usr/local/flexgw instance directory under / out the appropriate certificate file.</li>
              <li>Restart website: /etc/init.d/flexgw restart</li>
            </ol>
          </div>
        </div>
      </div>
    </div>
    <!-- end of issue table -->
{% endblock content %}
